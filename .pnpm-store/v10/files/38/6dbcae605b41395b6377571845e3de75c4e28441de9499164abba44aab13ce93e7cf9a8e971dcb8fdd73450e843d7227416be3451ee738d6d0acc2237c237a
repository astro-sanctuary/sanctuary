'use strict';

var apiClient = require('@drupal-api-client/api-client');

var c=class s extends apiClient.ApiClient{constructor(t,e){super(t,e);let{apiPrefix:o}=e||{};this.apiPrefix=o||"router/translate-path";}async translatePath(t,e){let o=e?.rawResponse||!1,r=e?.locale||this.defaultLocale,p=this.createURL({localeSegment:r,path:t}),l=s.createCacheKey({localeSegment:r,path:t,cacheKey:e?.cacheKey});if(!o&&!e?.disableCache){let u=await this.getCachedResponse(l);if(u)return u}this.debug&&this.log("verbose",`Fetching endpoint ${p}`);let R=e?.disableAuthentication?{credentials:"omit"}:{},{response:n,error:i}=await this.fetch(p,R);if(i)throw this.debug&&this.log("error",`Failed to translate path. Path: ${t}, Error: ${i.message}`),i;let h=n.status,d=n.clone(),a=await n.json();return this.cache&&!e?.disableCache&&h<400&&await this.cache?.set(l,a),o?{response:d,json:a}:a}createURL({localeSegment:t,path:e}){return new URL(`${t??""}/${this.apiPrefix}?path=${e}`,this.baseUrl).toString()}static createCacheKey({localeSegment:t,path:e,cacheKey:o}){if(o)return o;if(!e)throw new Error("The path or cacheKey option is required to generate a cache key.");return t?`${t}--${e}`:e}};var b=s=>typeof s=="object"&&s!==null&&"json"in s,m=s=>typeof s=="object"&&s!==null&&"entity"in s;

exports.DecoupledRouterClient = c;
exports.isRaw = b;
exports.isResolved = m;
